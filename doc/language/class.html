<html>
<head>
	<title>Class | Alex Script Language</title>
</head>
<body>
<h1>Class</h1>
<p>JavaScript offers objects that need to be defined using prototyping.
This is complicated and prone to mistakes hard to debug. Not only that,
the language does not offer you a strong way to ensure private functions
do not get called from the outside, or that protected functions are not
called from classes that do not derive from that class. Also variable
members have the exact same problem.</p>
<p>The Alex Script Language offers a standardized class declaration
scheme based on Java and ActionScript. The as2js compiler then converts
these definitions in valid prototypes of JavaScript as undertsood in your
browsers.</p>
<p>The script can also declare interfaces. Interfaces are similar to
classes, only all functions must be abstract and interfaces cannot have
variable members, only constants.</p>
<pre>
<em>attribute</em> class <em>name</em>
	extends <em>class name</em>, ...
	implements <em>interface name</em>, ...
{
	// function members
	<em>attribute</em> function <em>name</em> ( <em>parameter list</em> )
		: <em>type</em>
		throws <em>expression</em>, ...
		require <em>label</em> : <em>expression</em>, ...
		require else <em>label</em> : <em>expression</em>, ...
		ensure <em>label</em> : <em>expression</em>, ...
		ensure then <em>label</em> : <em>expression</em>, ...
	{
		... <em>body statements</em> ...
	}

	// variable members
	<em>attribute</em> var <em>name</em> : <em>type</em> := <em>expression</em>;

	// constant members
	<em>attribute</em> const var <em>name</em> : <em>type</em> := <em>expression</em>;
};

<em>attribute</em> interface <em>name</em>
	extends <em>interface name</em>
{
	// function members, the attribute list must include <em>abstract</em>
	<em>attribute</em> function <em>name</em> ( <em>parameter list</em> ) : <em>type</em>;

	// constant members
	<em>attribute</em> const var <em>name</em> : <em>type</em> := <em>expression</em>;
};
</pre>
<h2>Class</h2>
<p>A class support several attributes. These attributes are:</p>
<ul>
	<li>public -- the class is public, this is the default</li>
	<li>protected -- the class is protected meaning that it can only be used within this package and extensions of this package</li>
	<li>private -- the class can only be used in this package</li>
	<li>dynamic -- the class will accept member extension at runtime</li>
</ul>
<p>A class can extend any number of other classes and interfaces. Note that
in pure JavaScript, a class can derive from at most one single other class.
The interface support is abstract and this means a class can always implement
any number of interfaces.</p>
<h2>Interface</h2>
<p>An interface can be used to declare a set of functions that are
to be common to multiple classes. An interface cannot define function
bodies, so all functions must be marked as being abstract.</p>
<p>An interface can also declare constant variable members. This works
because such variables can be inlined. This is important since interfaces
otherwise <em>disappear</em> from the output of as2js.</p>
<h2>Functions</h2>
<p>Functions support many attributes. These attributes are:</p>
<ul>
	<li>public -- the function member can be accessed by any other class and global function</li>
	<li>protected -- the function member can be accessed by this class function members and class function members that derive from this class</li>
	<li>private -- the function member can be accessed by this class function members only</li>
	<li>abstract -- the function member is not implemented in this declaration, functions must be abstract when defined in an interface</li>
	<li>final -- the function member cannot be redefined in a derived class</li>
	<li>internal -- the function member represents an internal function, a function that's intrinsic to the JavaScript language</li>
	<li>native -- the function member is a native function, a function that's intrinsic to the JavaScript language</li>
	<li>static -- the function member is a global function and can be called with <em>&lt;class name&gt;::&lt;name&gt;</em></li>
	<li>virtual -- the function member is a virtual function, it can be overloaded, a virtual function has a body, use abstract if you do not want to declare a body</li>
	<li>inline -- the function member should be inlined anywhere it is called</li>
	<li>array -- ???</li>
	<li>deprecated -- the function member should not be used as it was marked <em>deprecated</em></li>
	<li>unsafe -- the function member is not considered safe (i.e. eval() is marked unsafe)</li>
	<li>unused -- the function member cannot be used</li>
	<li>constructor -- the function member is viewed as a constructor that can be called explicitly (a constructor is also a static function)</li>
	<li>enumerable -- the function member shows up when enumerating the list of members in a class</li>
	<li>true -- conditional compilation, the function is compiled in</li>
	<li>false -- conditional compilation, the function is ignored</li>
</ul>
<h2>Variables</h2>
<p>Variables support many attributes. These attributes are:</p>
<ul>
	<li>public -- the variable member can be accessed by any other class and global function</li>
	<li>protected -- the variable member can be accessed by this class function members and class function members that derive from this class</li>
	<li>private -- the variable member can be accessed by this class function members only</li>
	<li>static -- the variable member is a global accessed with <em>&lt;class name&gt;::&lt;name&gt;</em></li>
	<li>native -- the variable member is an intrinsic definition</li>
	<li>transient -- the variable member does not get serialized</li>
	<li>volatile -- the variable member may change under your feet</li>
	<li>deprecated -- the variable member should not be used as it was marked <em>deprecated</em></li>
	<li>unused -- the variable member cannot be used</li>
	<li>enumerable -- the variable member shows up when enumerating the list of members in a class</li>
	<li>true -- conditional compilation, the variable is compiled in</li>
	<li>false -- conditional compilation, the variable is ignored</li>
</ul>
</body>
</html>
